<script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
<script type="text/javascript">
var params         = parseParams();
var locationStr    = location.toString().replace(/\/slide.*/, "");
var mdFileLocation = paramToMdFileLocation(locationStr,params);

document.getElementsByTagName('body')[0].setAttribute("style","padding-top:0px");
var slideshow = remark.create({
  sourceUrl: mdFileLocation
});

function paramToMdFileLocation(locationStr,params){
  var mdFileLocation = ( params["c"] ) ?
    ( params["n"] )
      ? locationStr + "/" + params["c"] + "/" + params["n"] + ".md"
      : locationStr + "/" + params["c"] + ".md"
    : '/notfound.md';

  return mdFileLocation;
}

function parseParams(){
  var queryStr = window.location.search;
  var queryStrings = queryStr.slice(1).split('&');
  var params = [];

  queryStrings.forEach(function(query){
    var keyValue = query.split('=');
    params[ keyValue[0] ] = keyValue[1];
  });

  return params;
}
</script>
